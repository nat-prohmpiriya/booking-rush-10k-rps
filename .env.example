# =============================================================================
# Booking Rush 10k RPS - Environment Variables
# =============================================================================
# Copy this file to .env and update values as needed

# =============================================================================
# Application
# =============================================================================
APP_ENV=development
APP_DEBUG=true

# =============================================================================
# PostgreSQL
# =============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=booking_user
POSTGRES_PASSWORD=booking_pass
POSTGRES_DB=booking_rush
POSTGRES_SSLMODE=disable

# Connection pool
POSTGRES_MAX_OPEN_CONNS=100
POSTGRES_MAX_IDLE_CONNS=10
POSTGRES_CONN_MAX_LIFETIME=1h

# =============================================================================
# Redis
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Connection pool
REDIS_POOL_SIZE=100
REDIS_MIN_IDLE_CONNS=10

# =============================================================================
# Kafka
# =============================================================================
KAFKA_BROKERS=localhost:9093
KAFKA_GROUP_ID=booking-rush

# Topics
KAFKA_TOPIC_BOOKING_CREATED=booking.created
KAFKA_TOPIC_BOOKING_CONFIRMED=booking.confirmed
KAFKA_TOPIC_BOOKING_CANCELLED=booking.cancelled
KAFKA_TOPIC_BOOKING_EXPIRED=booking.expired
KAFKA_TOPIC_PAYMENT_SUCCESS=payment.success
KAFKA_TOPIC_PAYMENT_FAILED=payment.failed

# =============================================================================
# JWT
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=168h

# =============================================================================
# API Gateway
# =============================================================================
API_GATEWAY_PORT=3000

# =============================================================================
# Auth Service
# =============================================================================
AUTH_SERVICE_PORT=3001
AUTH_SERVICE_URL=http://localhost:3001

# =============================================================================
# Ticket Service
# =============================================================================
TICKET_SERVICE_PORT=3002
TICKET_SERVICE_URL=http://localhost:3002

# =============================================================================
# Booking Service
# =============================================================================
BOOKING_SERVICE_PORT=3003
BOOKING_SERVICE_URL=http://localhost:3003

# Reservation settings
RESERVATION_TTL=10m
MAX_SEATS_PER_USER=6

# =============================================================================
# Payment Service
# =============================================================================
PAYMENT_SERVICE_PORT=3004
PAYMENT_SERVICE_URL=http://localhost:3004

# =============================================================================
# Rate Limiting (Token Bucket)
# =============================================================================
RATE_LIMIT_BOOKING_RESERVE_PER_MIN=20
RATE_LIMIT_BOOKING_RESERVE_BURST=10
RATE_LIMIT_AUTH_LOGIN_PER_MIN=5
RATE_LIMIT_AUTH_LOGIN_BURST=3
RATE_LIMIT_GENERAL_PER_MIN=100
RATE_LIMIT_GENERAL_BURST=20

# =============================================================================
# OpenTelemetry
# =============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=booking-rush
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0
